<script src="https://aframe.io/releases/0.6.0/aframe.min.js"></script>
<script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<style>
    #notification{
        position: absolute;
        top:0;
        left:10;
    }
</style>
<script>
    AFRAME.registerComponent('handlemarker', {
        init: function () {
            $("#notification").text("Not find something");
            this.boxA = document.querySelector("#boxA").object3D;
            this.boxB = document.querySelector("#boxB").object3D;
            this.found=false;
            this.duration =0;
            this.directionVec3 = new THREE.Vector3();

        },
        tick:function (time, timeDelta) {
            var directionVec3 = this.directionVec3;
            var targetPosition = this.boxB.position;
            var currentPosition =this.boxA.position;
            let markerA = document.querySelector("a-marker#union").object3D;
            let markerB = document.querySelector("a-marker#confederate").object3D;
            if(markerA.visible ===true && markerB.visible ===true){
                this.found = true;
                $("#notification").text("Found something")
            }else{
                this.found = false;
            }
            if(this.found){
                directionVec3.copy(targetPosition).sub(currentPosition);
                var distance = directionVec3.length();
                if (distance < 1) { return; }
                var factor = 15 / distance;
                ['x', 'y', 'z'].forEach(function (axis) {
                    directionVec3[axis] *= factor * (timeDelta / 1000);
                });
                this.boxA.setAttribute('position', {
                    x: currentPosition.x + directionVec3.x,
                    y: currentPosition.y + directionVec3.y,
                    z: currentPosition.z + directionVec3.z
                });
            }
        }
    });
</script>
<body style='margin : 0px; overflow: hidden;'>
<div id="notification"></div>
<a-scene embedded arjs='sourceType: webcam;'>

    <!-- handle marker with your own pattern -->
    <a-marker id="union" type='pattern' url='data/letterA.patt'>
        <a-box id="boxA" position='0 0.5 0' material='color: red;'></a-box>
    </a-marker>
    <a-marker id="confederate" type='pattern' url='data/letterB.patt'>
        <a-box id="boxB" position='0 0.5 0' material='color: blue;'></a-box>
    </a-marker>
    <a-entity handlemarker> </a-entity>
    <!-- add a simple camera -->
    <a-entity camera></a-entity>
</a-scene>
</body>