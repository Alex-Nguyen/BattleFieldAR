<script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
<script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v6.0.0/dist/aframe-extras.min.js"></script>
<script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://code.createjs.com/1.0.0/createjs.min.js"></script>
<script src="components/scenemanager.js"></script>
<script src="https://rawgit.com/protyze/aframe-curve-component/master/dist/aframe-curve-component.min.js"></script>
<script src="https://rawgit.com/protyze/aframe-alongpath-component/master/dist/aframe-alongpath-component.min.js"></script>
<script src="https://unpkg.com/aframe-look-at-component@0.8.x/dist/aframe-look-at-component.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/mayognaise/aframe-gif-shader/dist/aframe-gif-shader.min.js"></script>
<script src="https://unpkg.com/aframe-spe-particles-component@^1.0.4/dist/aframe-spe-particles-component.min.js"></script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<style>
    #countdown {
        position: absolute;
        top: 0;
        left: 10px;

    }
</style>
<script>


    // var timeleft = 3;
    // var downloadTimer = setInterval(function () {
    //     $("#countdown").text(timeleft);
    //     timeleft -= 1;
    //     if (timeleft <= 0) {
    //         let el = document.querySelector('#source');
    //         el.setAttribute('alongpath', {curve: '#track1', dur: 5000, rotate: true});
    //         clearInterval(downloadTimer);
    //     }
    // }, 1000);
</script>
<body style='margin : 0px; overflow: hidden;'>
<div id="countdown"></div>
<ul class="nav fixed-top nav-pills nav-fill" style="z-index: 10; padding-top: 20px">
    <li class="nav-item">
        <button type="button" disabled id="stage1" class="btn btn-dark">Stage 1</button>
    </li>
    <li class="nav-item">
        <button type="button" disabled class="btn btn-dark">Stage 2</button>
    </li>
    <li class="nav-item">
        <button type="button" disabled class="btn btn-dark">Stage 3</button>
    </li>
    <li class="nav-item">
        <button type="button" disabled class="btn btn-dark">Stage 4</button>
    </li>
    <li class="nav-item">
        <button type="button" disabled class="btn btn-dark">Stage 5</button>
    </li>
    <li class="nav-item">
        <button type="button" class="btn btn-dark">ScreenShot</button>

    </li>
</ul>
<a-scene manager embedded arjs='sourceType: webcam;'>
    <a-assets>
        <img id="unionFlag" src="data/unionFlags.jpg">
        <img id="confederate" src="data/confederate.jpg">
        <a-asset-item id="man" src="data/Walking.glb"></a-asset-item>
    </a-assets>
    <a-curve id="track1">
        <a-curve-point position="5.5 0.5 -15"></a-curve-point>
        <a-curve-point position="4.5 0.5 -18"></a-curve-point>
        <a-curve-point position="2.5 1.5 -20"></a-curve-point>
        <a-curve-point position="0 0 -7"></a-curve-point>
    </a-curve>

    <a-curve id="smove2">
        <a-curve-point position="0 0 -7"></a-curve-point>
        <a-curve-point position=".5 -0.5 -5"></a-curve-point>

    </a-curve>

    <a-curve id="track2">
        <a-curve-point position="-1 0 -10"></a-curve-point>
        <a-curve-point position="-2 0 -10"></a-curve-point>
        <a-curve-point position="-3 0 -10"></a-curve-point>
        <a-curve-point position="-4 0 -10"></a-curve-point>
    </a-curve>
    <a-curve id="track3">
        <a-curve-point position="-1 0 -10"></a-curve-point>
        <a-curve-point position="-2 0.5 -10"></a-curve-point>
        <a-curve-point position="-3 1 -10"></a-curve-point>
        <a-curve-point position="-4 1.5 -10"></a-curve-point>
    </a-curve>

    <a-curve id="track4">
        <a-curve-point position="-1 0 -10"></a-curve-point>
        <a-curve-point position="-2 -0.5 -10"></a-curve-point>
        <a-curve-point position="-3 -1 -10"></a-curve-point>
        <a-curve-point position="-4 -1.5 -10"></a-curve-point>
    </a-curve>
    <a-entity id="fire1" visible="false" position="0 0 -15" rotation="0 0 42"
              spe-particles__sparks="texture: images/square.png; color: yellow, red; particle-count: 10; max-age: 0.5; max-age-spread: 0.4; velocity: 0 5 0; velocity-spread: 0 3 0; wiggle: 1 0 1; wiggle-spread: 5 0 5; emitter-scale: 50; size-spread: .5; randomize-velocity: true"
              spe-particles__smoke="texture: images/fog.png; velocity: .4 2 0; velocity-spread: 1.4 0 1.4; particle-count: 50; max-age: 4; size: 8,16; opacity: 0,1,0; color: #666,#222"
              spe-particles__fire="texture: images/explosion_sheet.png; texture-frames: 5 5; velocity: .4 .1 0; acceleration: 0 2 0; acceleration-spread: 0 2 0; velocity-spread: .4 0 .4; particle-count: 15; max-age: 1; size: 4,8; size-spread: 2; opacity: 1,0; wiggle: 0 1 0; blending: additive"
              position="0 0 -10">
    </a-entity>
<!--    <a-entity id="source" gltf-model="#man" position="4.0 0.5 -17" rotation="0 -90 0" scale="0.6 0.6 0.6"-->
<!--              animation-mixer="clip:Idle">-->
<!--        &lt;!&ndash;        <a-text value="Union Troops" look-at="[camera]" position="0 1.5 0" color="red" scale="2 2 2"></a-text>&ndash;&gt;-->
<!--        <a-plane src="#unionFlag" look-at="[camera]" height=".8" position="0 2 0" scale="1 1 1" width="1.2"></a-plane>-->

<!--    </a-entity>-->

<!--    <a-entity id="target1" gltf-model="#man" position="-0.3 0 -7" scale="0.6 0.6 0.6"-->
<!--              animation-mixer="clip:Idle">-->
<!--        &lt;!&ndash;        <a-text value="Confederate Troops" look-at="[camera]"  position="0 1.5 0" color="blue" scale="2 2 2"></a-text>&ndash;&gt;-->
<!--        <a-plane src="#confederate" height=".8" look-at="[camera]" position="0 2 0" scale="1 1 1" width="1.2"></a-plane>-->
<!--    </a-entity>-->
<!--    <a-entity id="target2" gltf-model="#man" position="-0.4 -0.2 -7" scale="0.6 0.6 0.6"-->
<!--              animation-mixer="clip:Idle">-->
<!--    </a-entity>-->
<!--    <a-entity id="target3" gltf-model="#man" position="-0.5 -0.5 -7" scale="0.6 0.6 0.6"-->
<!--              animation-mixer="clip:Idle">-->
<!--    </a-entity>-->


    <a-marker id="pos1" type='pattern' url='data/pattern-pos1.patt'>
        <a-entity id="union" gltf-model="#man" position="0 0 0" rotation="0 0 0" scale="1 1 1"
                  animation-mixer="clip:Idle">
            <a-plane src="#unionFlag" look-at="[camera]" height=".8" position="0 2 0" scale="1 1 1"
                     width="1.2"></a-plane>

        </a-entity>
    </a-marker>
    <a-marker id="pos2" type='pattern' url='data/pattern-pos2.patt'>
        <a-entity  gltf-model="#man" position="0 0 0" rotation="0 0 0" scale="1 1 1"
                  animation-mixer="clip:Idle">
            <a-plane src="#confederate" look-at="[camera]" height=".8" position="0 2 0" scale="1 1 1"
                     width="1.2"></a-plane>

        </a-entity>
    </a-marker>

    <a-marker id="pos3" type='pattern' url='data/pattern-pos3.patt'>
        <a-entity  gltf-model="#man" position="0 0 0" rotation="0 0 0" scale="1 1 1"
                  animation-mixer="clip:Idle">
            <a-plane src="#confederate" look-at="[camera]" height=".8" position="0 2 0" scale="1 1 1"
                     width="1.2"></a-plane>

        </a-entity>
    </a-marker>
    <a-marker id="pos4" type='pattern' url='data/pattern-pos4.patt'>
        <a-entity  gltf-model="#man" position="0 0 0" rotation="0 0 0" scale="1 1 1"
                  animation-mixer="clip:Idle">
            <a-plane src="#confederate" look-at="[camera]" height=".8" position="0 2 0" scale="1 1 1"
                     width="1.2"></a-plane>

        </a-entity>
    </a-marker>
    <a-marker id="pos5" type='pattern' url='data/pattern-pos5.patt'>
        <a-entity  gltf-model="#man" position="0 0 0" rotation="0 0 0" scale="1 1 1"
                  animation-mixer="clip:Idle">
            <a-plane src="#confederate" look-at="[camera]" height=".8" position="0 2 0" scale="1 1 1"
                     width="1.2"></a-plane>

        </a-entity>
    </a-marker>
    <a-marker id="pos6" type='pattern' url='data/pattern-pos6.patt'>
        <a-entity  gltf-model="#man" position="0 0 0" rotation="0 0 0" scale="1 1 1"
                  animation-mixer="clip:Idle">
            <a-plane src="#confederate" look-at="[camera]" height=".8" position="0 2 0" scale="1 1 1"
                     width="1.2"></a-plane>

        </a-entity>
    </a-marker>
    <a-entity camera></a-entity>
</a-scene>
</body>